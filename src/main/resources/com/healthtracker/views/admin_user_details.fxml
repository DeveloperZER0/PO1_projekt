<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx"
           xmlns:fx="http://javafx.com/fxml"
           fx:controller="com.healthtracker.ui.AdminUserDetailsController"
           stylesheets="@styles/style.css, @styles/admin.css, @styles/tables.css, @styles/profile.css">

    <!-- Header z informacjami o uÅ¼ytkowniku -->
    <top>
        <VBox styleClass="user-details-header">
            <padding><Insets top="20" right="30" bottom="20" left="30"/></padding>
            
            <HBox alignment="CENTER_LEFT" spacing="20" styleClass="user-header-bar">
                <Label text="ðŸ‘¤ SzczegÃ³Å‚y uÅ¼ytkownika" styleClass="user-details-title"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="âœ– Zamknij" onAction="#onCloseClicked" styleClass="secondary-btn"/>
            </HBox>
            
            <!-- Informacje o uÅ¼ytkowniku -->
            <GridPane hgap="30" vgap="15" styleClass="user-info-grid">
                <columnConstraints>
                    <ColumnConstraints minWidth="120"/>
                    <ColumnConstraints minWidth="200"/>
                    <ColumnConstraints minWidth="120"/>
                    <ColumnConstraints minWidth="200"/>
                </columnConstraints>
                
                <Label text="Nazwa uÅ¼ytkownika:" styleClass="info-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                <Label fx:id="usernameLabel" styleClass="info-value" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                
                <Label text="Adres e-mail:" styleClass="info-label" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                <Label fx:id="emailLabel" styleClass="info-value" GridPane.columnIndex="3" GridPane.rowIndex="0"/>
                
                <Label text="Uprawnienia:" styleClass="info-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                <Label fx:id="roleLabel" styleClass="info-value role-badge" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                
                <Label text="Data utworzenia:" styleClass="info-label" GridPane.columnIndex="2" GridPane.rowIndex="1"/>
                <Label fx:id="createdAtLabel" styleClass="info-value" GridPane.columnIndex="3" GridPane.rowIndex="1"/>
            </GridPane>
            
            <!-- Podsumowanie aktywnoÅ›ci -->
            <VBox spacing="10" styleClass="activity-summary">
                <Label text="ðŸ“Š Podsumowanie aktywnoÅ›ci" styleClass="summary-title"/>
                <HBox spacing="30" styleClass="summary-cards">
                    <VBox styleClass="summary-card">
                        <Label fx:id="measurementsSummaryLabel" styleClass="summary-text"/>
                    </VBox>
                    <VBox styleClass="summary-card">
                        <Label fx:id="activitiesSummaryLabel" styleClass="summary-text"/>
                    </VBox>
                    <VBox styleClass="summary-card">
                        <Label fx:id="mealsSummaryLabel" styleClass="summary-text"/>
                    </VBox>
                    <VBox styleClass="summary-card">
                        <Label fx:id="goalsSummaryLabel" styleClass="summary-text"/>
                    </VBox>
                </HBox>
            </VBox>
        </VBox>
    </top>

    <!-- GÅ‚Ã³wna zawartoÅ›Ä‡ z tabelami -->
    <center>
        <VBox styleClass="user-details-content">
            <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS" styleClass="content-scroll">
                <VBox styleClass="details-container">
                    <padding><Insets top="20" right="30" bottom="30" left="30"/></padding>
                    
                    <TabPane fx:id="dataTabPane" styleClass="details-tabpane">
                        
                        <!-- Tab pomiarÃ³w -->
                        <Tab text="ðŸ“ Pomiary" closable="false">
                            <VBox spacing="15" styleClass="tab-content">
                                <Label text="Historia pomiarÃ³w zdrowotnych" styleClass="tab-title"/>
                                <TableView fx:id="measurementsTable" styleClass="details-table">
                                    <columns>
                                        <TableColumn fx:id="timestampColumn" text="Data i czas"/>
                                        <TableColumn fx:id="bpColumn" text="CiÅ›nienie" styleClass="center-aligned"/>
                                        <TableColumn fx:id="hrColumn" text="TÄ™tno" styleClass="center-aligned"/>
                                        <TableColumn fx:id="weightColumn" text="Waga" styleClass="center-aligned"/>
                                        <TableColumn fx:id="summaryColumn" text="Opis"/>
                                    </columns>
                                </TableView>
                            </VBox>
                        </Tab>
                        
                        <!-- Tab aktywnoÅ›ci -->
                        <Tab text="ðŸƒ AktywnoÅ›ci" closable="false">
                            <VBox spacing="15" styleClass="tab-content">
                                <Label text="Historia aktywnoÅ›ci fizycznych" styleClass="tab-title"/>
                                <TableView fx:id="activitiesTable" styleClass="details-table">
                                    <columns>
                                        <TableColumn fx:id="activityTypeColumn" text="Rodzaj aktywnoÅ›ci"/>
                                        <TableColumn fx:id="durationColumn" text="Czas" styleClass="center-aligned"/>
                                        <TableColumn fx:id="distanceColumn" text="Dystans" styleClass="center-aligned"/>
                                        <TableColumn fx:id="activityCaloriesColumn" text="Kalorie" styleClass="center-aligned"/>
                                        <TableColumn fx:id="intensityColumn" text="IntensywnoÅ›Ä‡"/>
                                        <TableColumn fx:id="activityDateColumn" text="Data"/>
                                    </columns>
                                </TableView>
                            </VBox>
                        </Tab>
                        
                        <!-- Tab posiÅ‚kÃ³w -->
                        <Tab text="ðŸ½ï¸ PosiÅ‚ki" closable="false">
                            <VBox spacing="15" styleClass="tab-content">
                                <Label text="Historia spoÅ¼ywanych posiÅ‚kÃ³w" styleClass="tab-title"/>
                                <TableView fx:id="mealsTable" styleClass="details-table">
                                    <columns>
                                        <TableColumn fx:id="mealTypeColumn" text="Rodzaj posiÅ‚ku"/>
                                        <TableColumn fx:id="mealCaloriesColumn" text="Kalorie" styleClass="center-aligned"/>
                                        <TableColumn fx:id="descriptionColumn" text="Opis"/>
                                        <TableColumn fx:id="mealDateColumn" text="Data"/>
                                    </columns>
                                </TableView>
                            </VBox>
                        </Tab>
                        
                        <!-- Tab celÃ³w -->
                        <Tab text="ðŸŽ¯ Cele" closable="false">
                            <VBox spacing="15" styleClass="tab-content">
                                <Label text="Cele zdrowotne uÅ¼ytkownika" styleClass="tab-title"/>
                                <TableView fx:id="goalsTable" styleClass="details-table">
                                    <columns>
                                        <TableColumn fx:id="goalTypeColumn" text="Rodzaj celu"/>
                                        <TableColumn fx:id="goalTargetColumn" text="Cel" styleClass="center-aligned"/>
                                        <TableColumn fx:id="goalCurrentColumn" text="Aktualnie" styleClass="center-aligned"/>
                                        <TableColumn fx:id="goalProgressColumn" text="PostÄ™p" styleClass="center-aligned"/>
                                        <TableColumn fx:id="goalDueColumn" text="Termin"/>
                                        <TableColumn fx:id="goalStatusColumn" text="Status"/>
                                    </columns>
                                </TableView>
                            </VBox>
                        </Tab>
                        
                    </TabPane>
                </VBox>
            </ScrollPane>
        </VBox>
    </center>

</BorderPane>